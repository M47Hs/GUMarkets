(this.webpackJsonpgodsunchained=this.webpackJsonpgodsunchained||[]).push([[0],{49:function(e,t,c){},54:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(10),s=c.n(r),o=c(8),i=c(11),u=c.n(i),d=c(13),j=c(12),l=c.n(j),p=(c(49),c(61)),b=c(60),O=c(62),h=c(1);var f=function(e){var t=e.showPopup,c=e.setPopup,a=e.popupCard,r=Object(n.useState)(null),s=Object(o.a)(r,2),i=s[0],j=s[1],f=Object(n.useState)(null),x=Object(o.a)(f,2),m=x[0],v=x[1],g=Object(n.useState)("Meteorite"),w=Object(o.a)(g,2),y=w[0],P=w[1],C=Object(n.useState)(!1),S=Object(o.a)(C,2),N=(S[0],S[1]),k=Object(n.useState)(!1),E=Object(o.a)(k,2),L=E[0],M=E[1],_=Number.MAX_SAFE_INTEGER,F=function(){var e=Object(d.a)(u.a.mark((function e(){var t,c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),"https://api.x.immutable.com/v1/orders",t=JSON.stringify({proto:["".concat(a.id)],quality:["".concat(y)]}),e.prev=3,e.next=6,l.a.get("https://api.x.immutable.com/v1/orders",{params:{sell_metadata:t,status:"active",order_by:"buy_quantity",direction:"asc"}});case 6:c=e.sent,n=c.data.result,console.log(n),n.map((function(e){var t=e.buy.data.quantity,c=e.buy.data.decimals,n=(t*Math.pow(10,-c)).toFixed(6);_=_>n?n:_})),r=n[0].sell.data.properties.image_url,j(_),v(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),N(!0),console.log("erreur");case 19:return e.prev=19,M(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){F()}),[]),Object(n.useEffect)((function(){F()}),[y]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(p.a,{show:t,onHide:function(){c(!t)},children:[Object(h.jsx)(p.a.Header,{closeButton:!0,children:Object(h.jsx)(p.a.Title,{children:a.name})}),Object(h.jsx)(p.a.Body,{children:L?Object(h.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(h.jsx)(b.a,{animation:"grow"})," "]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Quality : ",y]}),Object(h.jsxs)("p",{children:["Price : ",i]}),Object(h.jsx)("div",{className:"container d-flex justify-content-center",children:Object(h.jsx)("img",{src:m,alt:a.id})}),Object(h.jsx)("button",{children:"BUY"}),Object(h.jsx)("button",{children:"SELL"})]})}),Object(h.jsxs)(p.a.Footer,{children:[Object(h.jsx)(O.a,{variant:"secondary",onClick:function(){P("Meteorite")},children:"Meteorite"}),Object(h.jsx)(O.a,{variant:"primary",onClick:function(){P("Shadow"),console.log("Shadow")},children:"Shadow"}),Object(h.jsx)(O.a,{variant:"warning",onClick:function(){P("Gold")},children:"Gold"}),Object(h.jsx)(O.a,{variant:"link",onClick:function(){P("Diamond")},children:"Diamond"})]})]})})};var x=function(e){var t=e.card,c=e.showPopup,n=e.setPopup,a=(e.popupCard,e.setPopupCard);return Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("li",{children:Object(h.jsx)("img",{className:"nft-item-cover",src:"https://card.godsunchained.com/?id=".concat(t.id,"&q=4"),alt:"".concat(t.id," cover"),onClick:function(){n(!c),a(t)}})},t.id)})};c(54);var m=function(e){var t=e.showPopup,c=e.setPopup,a=e.popupCard,r=e.setPopupCard,s=Object(n.useState)([]),i=Object(o.a)(s,2),j=i[0],p=i[1],b=Object(n.useState)([]),O=Object(o.a)(b,2),f=O[0],m=O[1];Object(n.useEffect)((function(){v()}),[]),Object(n.useEffect)((function(){console.log(f)}),[f]);var v=function(){var e=Object(d.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.godsunchained.com/v0/proto?perPage=2000",e.next=3,l()("https://api.godsunchained.com/v0/proto?perPage=2000");case 3:t=e.sent,c=t.data.records,console.log(c),m(c),p(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"container d-flex justify-content-center",children:Object(h.jsx)("input",{type:"text",onChange:function(e){var t=j.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));console.log(e.target.value),m(t)}})}),Object(h.jsx)("ul",{className:"list-unstyled",children:Object(h.jsx)("div",{className:"row",children:f.map((function(e){return Object(h.jsx)(x,{card:e,showPopup:t,setPopup:c,popupCard:a,setPopupCard:r},e.id)}))})})]})};var v=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),s=Object(o.a)(r,2),i=s[0],u=s[1];return console.log(i),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(m,{showPopup:c,setPopup:a,popupCard:i,setPopupCard:u}),c?Object(h.jsx)(f,{showPopup:c,setPopup:a,popupCard:i}):null]})},g=(c(55),c(56),c.p+"static/media/logo.aac3612d.png");var w=function(){return Object(h.jsxs)("div",{className:" jumbotron d-flex headerWrapper",children:[Object(h.jsx)("img",{src:g,className:"mainLogo",alt:"mainLogo"}),Object(h.jsx)("h1",{className:"mainTitle",children:"GodsUnchained"})]})};var y=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)(v,{})]})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.ac9651be.chunk.js.map