(this.webpackJsonpgodsunchained=this.webpackJsonpgodsunchained||[]).push([[0],{246:function(e,t,n){},255:function(e,t,n){},384:function(e,t){},390:function(e,t){},391:function(e,t){},393:function(e,t){},394:function(e,t){},415:function(e,t){},419:function(e,t){},421:function(e,t){},430:function(e,t){},432:function(e,t){},458:function(e,t){},460:function(e,t){},465:function(e,t){},467:function(e,t){},474:function(e,t){},486:function(e,t){},489:function(e,t){},493:function(e,t){},578:function(e,t,n){},584:function(e,t,n){"use strict";n.r(t);var c,r,a,s,o=n(5),i=n.n(o),u=n(99),l=n.n(u),p=n(156),d=n(46),j=n(39),b=n(4),f=n.n(b),h=n(33),x=n(90),O=n(91),v=O.a.div(c||(c=Object(x.a)(["\ntransition: all .2s ease-in-out;\nborder-radius: 10px;\n&:hover{\n    transform:scale(1.1);\n}\n"]))),m=O.a.button(r||(r=Object(x.a)(["\n  background-color: green;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n"]))),g=O.a.button(a||(a=Object(x.a)(["\n  background-color: red;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin-left:10px;\n"]))),y=O.a.button(s||(s=Object(x.a)(["\nbackground-color: grey;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin-left:10px;\n"]))),w=n(13);var k=function(e){var t=e.card,n=e.showPopup,c=e.setPopup,r=(e.popupCard,e.setPopupCard);return Object(w.jsx)("div",{children:Object(w.jsx)("li",{children:Object(w.jsx)(v,{children:Object(w.jsx)("img",{className:"nft-item-cover",src:"https://card.godsunchained.com/?id=".concat(t.id,"&q=4"),alt:"".concat(t.id," cover"),onClick:function(){c(!n),r(t)}})})},t.id)})},S=(n(246),n(128)),C=n.n(S),P=function(){var e=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.godsunchained.com/v0/proto?perPage=2000",e.next=3,C()("https://api.godsunchained.com/v0/proto?perPage=2000");case 3:return t=e.sent,n=t.data.records,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(f.a.mark((function e(t,n){var c,r,a,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={minPrice:Number.MAX_SAFE_INTEGER,orderID:null},"https://api.x.immutable.com/v1/orders",r=JSON.stringify({proto:["".concat(t.id)],quality:["".concat(n)]}),e.prev=3,e.next=6,C.a.get("https://api.x.immutable.com/v1/orders",{params:{sell_metadata:r,status:"active",order_by:"buy_quantity",direction:"asc"}});case 6:a=e.sent,s=a.data.result,console.log(s),s.map((function(e){var t=e.buy.data.quantity,n=e.buy.data.decimals,r=(t*Math.pow(10,-n)).toFixed(6),a=e.order_id;c.minPrice>r&&(c.minPrice=r,c.orderID=a)})),o=s[0].sell.data.properties.image_url,console.log(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:return e.prev=17,e.abrupt("return",{bestOrder:c,image_url:o});case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),_=n(590);var E=function(e){var t=e.showPopup,n=e.setPopup,c=e.popupCard,r=e.setPopupCard,a=Object(o.useState)([]),s=Object(j.a)(a,2),i=s[0],u=s[1],l=Object(o.useState)([]),p=Object(j.a)(l,2),d=p[0],b=p[1],x=Object(o.useState)(!1),O=Object(j.a)(x,2),v=O[0],m=O[1];function g(){return(g=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,P();case 3:t=e.sent,console.log(t),b(t),u(t),m(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){console.log(d)}),[d]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"container d-flex justify-content-center",children:Object(w.jsx)("input",{type:"text",placeholder:"Search a card",onChange:function(e){var t=i.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));b(t)}})}),v?Object(w.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(w.jsx)(_.a,{animation:"grow"})," "]}):Object(w.jsx)("ul",{className:"list-unstyled",children:Object(w.jsx)("div",{className:"row",children:d.map((function(e){return Object(w.jsx)(k,{card:e,showPopup:t,setPopup:n,popupCard:c,setPopupCard:r},e.id)}))})})]})},L=(n(255),n(595)),D=n(596),A=n(340),I=n(341),F=n(159),q=(n(97),"https://api.x.immutable.com/v1"),B="0xacb3c6a43d15b907e8433077b6d38ae40936fe2c",R=new I.Link("https://link.x.immutable.com"),T="WALLET_ADDRESS",M="STARK_PUBLIC_KEY";function W(){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(f.a.mark((function e(){var t,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.setup({});case 2:t=e.sent,n=t.address,c=t.starkPublicKey,localStorage.setItem(T,n),localStorage.setItem(M,c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(f.a.mark((function e(){var t,n,c,r,a,s,o,i,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,F.ImmutableXClient.build({publicApiUrl:q});case 3:c=e.sent,r=localStorage.getItem("WALLET_ADDRESS"),e.prev=5;case 6:return e.next=8,c.getAssets({user:r,status:"imx",collection:B,sell_orders:!0});case 8:a=e.sent,n=n.concat(a.result),t=a.cursor;case 11:if(t){e.next=6;break}case 12:s=Object(A.a)(n);try{for(s.s();!(o=s.n()).done;)(l=o.value).isListed=!1,(null===(i=l.orders)||void 0===i||null===(u=i.sell_orders)||void 0===u?void 0:u.length)>0&&(l.isListed=!0)}catch(p){s.e(p)}finally{s.f()}e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:return e.prev=19,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})))).apply(this,arguments)}function U(e,t){return G.apply(this,arguments)}function G(){return(G=Object(h.a)(f.a.mark((function e(t,n){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={amount:n,tokenId:t.id,tokenAddress:t.token_address},e.next=3,R.sell(c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n){return X.apply(this,arguments)}function X(){return(X=Object(h.a)(f.a.mark((function e(t,n,c){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.ImmutableXClient.build({publicApiUrl:q});case 3:return r=e.sent,e.next=6,r.getOrders({page_size:t,cursor:n,status:"active",sell_token_address:B,sell_metadata:c,order_by:"buy_quantity",direction:"asc"});case 6:return a=e.sent,e.abrupt("return",{orders:a.result,cursor:a.cursor});case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.buy({orderId:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(e){var t=e.showPopup,n=e.setPopup,c=e.popupCard,r=Object(o.useState)(null),a=Object(j.a)(r,2),s=a[0],i=a[1],u=Object(o.useState)(null),l=Object(j.a)(u,2),p=l[0],d=l[1],b=Object(o.useState)(null),x=Object(j.a)(b,2),O=x[0],v=x[1],g=Object(o.useState)("Meteorite"),y=Object(j.a)(g,2),k=y[0],S=y[1],C=Object(o.useState)(!1),P=Object(j.a)(C,2),E=P[0],A=P[1],I=Object(o.useState)(!1),F=Object(j.a)(I,2),q=F[0],B=F[1];function R(){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,A(!1),e.next=5,N(c,k);case 5:t=e.sent,n=t.bestOrder,r=t.image_url,i(n.minPrice),d(n.orderID),v(r),null===n.orderID&&A(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),A(!0),console.log(e.t0);case 18:return e.prev=18,B(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})))).apply(this,arguments)}function M(){return(M=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(p.toString()),e.next=4,Y(p.toString());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){R(c,k)}),[]),Object(o.useEffect)((function(){R(c,k)}),[k]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(L.a,{show:t,onHide:function(){n(!t)},children:[Object(w.jsx)(L.a.Header,{closeButton:!0,children:Object(w.jsx)(L.a.Title,{children:c.name})}),Object(w.jsx)(L.a.Body,{children:q?Object(w.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(w.jsx)(_.a,{animation:"grow"})," "]}):E?Object(w.jsx)("h5",{children:"this card is not available for trade"}):Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{children:["Quality : ",k]}),Object(w.jsxs)("p",{children:["Price : ",s]}),Object(w.jsx)("div",{className:"container d-flex justify-content-center",children:Object(w.jsx)("img",{src:O,alt:c.id})}),Object(w.jsx)("div",{className:"container d-flex justify-content-center",children:Object(w.jsx)(m,{onClick:function(){return M.apply(this,arguments)},children:"Buy"})})]})}),Object(w.jsxs)(L.a.Footer,{children:[Object(w.jsx)(D.a,{variant:"secondary",onClick:function(){S("Meteorite")},children:"Meteorite"}),Object(w.jsx)(D.a,{variant:"primary",onClick:function(){S("Shadow"),console.log("Shadow")},children:"Shadow"}),Object(w.jsx)(D.a,{variant:"warning",onClick:function(){S("Gold")},children:"Gold"}),Object(w.jsx)(D.a,{variant:"link",onClick:function(){S("Diamond")},children:"Diamond"})]})]})})};var Z=function(){var e=Object(o.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(null),a=Object(j.a)(r,2),s=a[0],i=a[1];return console.log(s),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(E,{showPopup:n,setPopup:c,popupCard:s,setPopupCard:i}),n?Object(w.jsx)(V,{showPopup:n,setPopup:c,popupCard:s}):null]})},$=Object(o.createContext)(),ee=function(e){var t=e.children,n=Object(o.useState)(null!==localStorage.getItem("WALLET_ADDRESS")),c=Object(j.a)(n,2),r=c[0],a=c[1];return Object(w.jsx)($.Provider,{value:{logged:r,setLogged:a},children:t})};var te,ne=function(e){var t=e.card,n=e.showPopup,c=e.setPopup,r=(e.popupCard,e.setPopupCard);return Object(w.jsx)("div",{className:"lol",children:Object(w.jsx)("li",{children:Object(w.jsx)(v,{children:Object(w.jsx)("img",{className:"nft-item-cover",src:t.image_url,alt:"".concat(t.id," cover"),onClick:function(){c(!n),r(t)}})})},t.id)})};var ce=function(e){var t=e.showPopup,n=e.setPopup,c=e.popupCard,r=e.setPopupCard,a=O.a.div(te||(te=Object(x.a)(["\n    \n  "]))),s=Object(o.useState)([]),i=Object(j.a)(s,2),u=i[0],l=i[1],p=Object(o.useState)([]),d=Object(j.a)(p,2),b=d[0],v=d[1],m=Object(o.useState)(!1),g=Object(j.a)(m,2),y=g[0],k=g[1];function S(){return(S=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,H();case 4:t=e.sent,v(t),l(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){console.log(b)}),[b]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"container d-flex justify-content-center",children:Object(w.jsx)("input",{type:"text",onChange:function(e){var t=u.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));v(t)},placeholder:"Search a card"})}),y?Object(w.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(w.jsx)(_.a,{animation:"grow"})," "]}):Object(w.jsx)("ul",{className:"list-unstyled",children:Object(w.jsx)("div",{className:"row",children:b.map((function(e){return Object(w.jsx)(a,{children:Object(w.jsx)(ne,{card:e,showPopup:t,setPopup:n,popupCard:c,setPopupCard:r},e.id)})}))})})]})};var re=function(e){var t=e.showPopup,n=e.setPopup,c=e.popupCard,r=Object(o.useState)(null),a=Object(j.a)(r,2),s=a[0],i=a[1],u=Object(o.useState)(!1),l=Object(j.a)(u,2),p=l[0],d=l[1],b=Object(o.useState)([]),x=Object(j.a)(b,2),O=x[0],v=x[1];function y(){return(y=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,t=JSON.stringify({proto:["".concat(c.metadata.proto)],quality:["".concat(c.metadata.quality)]}),e.next=5,K(5,"",t);case 5:n=e.sent,v(n.orders),console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))).apply(this,arguments)}Object(o.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]);var k=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SELL ORDER",s),console.log("asset ID",c.id),console.log("tokenAddress",c.token_address),e.prev=3,e.next=6,U(c,s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){console.log(e.target.value),Y(e.target.value)};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(L.a,{show:t,onHide:function(){n(!t)},children:[Object(w.jsx)(L.a.Header,{closeButton:!0,children:Object(w.jsx)(L.a.Title,{children:c.metadata.name})}),Object(w.jsx)(L.a.Body,{children:p?Object(w.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(w.jsx)(_.a,{animation:"grow"})," "]}):Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{children:["Quality : ",c.metadata.quality]}),Object(w.jsx)("div",{className:"container d-flex justify-content-center",children:Object(w.jsx)("img",{src:c.image_url,alt:c.id})}),Object(w.jsxs)("p",{children:["For sale:",O.map((function(e){return Object(w.jsxs)("p",{children:[Object(w.jsx)(m,{value:e.order_id,onClick:S,children:"BUY"})," : ",(t=e.buy.data.quantity,(t*Math.pow(10,-18)).toFixed(6))," "]});var t}))]})]})}),Object(w.jsx)(L.a.Footer,{children:Object(w.jsxs)("div",{className:"container d-flex content-center",children:[Object(w.jsx)("input",{type:"text",name:"ethprice",placeHolder:"eth Price",onChange:function(e){i(e.target.value)}}),Object(w.jsx)(g,{onClick:k,children:"Sell yours"})]})})]})})};var ae,se,oe=function(){var e=Object(o.useContext)($),t=e.logged,n=e.setLogged,c=Object(o.useState)(""),r=Object(j.a)(c,2),a=r[0],s=r[1],i=Object(o.useState)(!1),u=Object(j.a)(i,2),l=u[0],p=u[1],d=Object(o.useState)(null),b=Object(j.a)(d,2),x=b[0],O=b[1];function v(){return(v=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return e.prev=1,e.next=4,W();case 4:n(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),n(!1);case 11:s(localStorage.getItem("WALLET_ADDRESS"));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(ce,{showPopup:l,setPopup:p,popupCard:x,setPopupCard:O,user:a}),l?Object(w.jsx)(re,{showPopup:l,setPopup:p,popupCard:x}):null]})},ie=(n(578),n.p+"static/media/logo.aac3612d.png");var ue=function(){var e=O.a.nav(ae||(ae=Object(x.a)(["\n  padding: 30px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),t=Object(O.a)(p.b)(se||(se=Object(x.a)(["\n  padding: 10px 15px;\n  color: #8186a0;\n  text-decoration: none;\n  font-size: 18px;\n  text-align: center;\n"]))),n=Object(o.useContext)($),c=n.logged,r=n.setLogged,a=Object(d.f)();function s(){return(s=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c?alert("user already connected"):function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:r(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),r(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsxs)("div",{className:" jumbotron d-flex headerWrapper",children:[Object(w.jsx)("div",{className:"d-flex",children:Object(w.jsx)("img",{src:ie,className:"mainLogo",alt:"mainLogo"})}),Object(w.jsx)("div",{className:"d-flex"}),Object(w.jsxs)(e,{children:[c?Object(w.jsx)(y,{onClick:function(){if(c){localStorage.removeItem("WALLET_ADDRESS"),r(!1);a.push("/browse"),alert("user disconnecterd")}else alert("user not logged in")},children:"Disconnect"}):Object(w.jsx)(y,{onClick:function(){return s.apply(this,arguments)},children:"Connect"}),Object(w.jsx)(t,{className:"link",to:"/browse",children:"Browse Cards"}),Object(w.jsx)(t,{className:"link",to:"/account",children:"Your Cards"})]})]})};n(580);l.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(p.a,{children:Object(w.jsxs)(ee,{children:[Object(w.jsx)(ue,{}),Object(w.jsx)(d.b,{exact:!0,path:"/",children:Object(w.jsx)(d.a,{to:"/browse"})}),Object(w.jsx)(d.b,{path:"/browse",children:Object(w.jsx)(Z,{})}),Object(w.jsx)(d.b,{path:"/account",children:Object(w.jsx)(oe,{})})]})})}),document.getElementById("root"))}},[[584,1,2]]]);
//# sourceMappingURL=main.103d9b3e.chunk.js.map