(this.webpackJsonpgodsunchained=this.webpackJsonpgodsunchained||[]).push([[0],{254:function(e,t,n){},336:function(e,t,n){},382:function(e,t){},388:function(e,t){},389:function(e,t){},391:function(e,t){},392:function(e,t){},413:function(e,t){},417:function(e,t){},419:function(e,t){},428:function(e,t){},430:function(e,t){},456:function(e,t){},458:function(e,t){},463:function(e,t){},465:function(e,t){},472:function(e,t){},484:function(e,t){},487:function(e,t){},491:function(e,t){},578:function(e,t,n){},584:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(100),s=n.n(a),o=n(156),i=n(46),u=n(39),l=n(4),p=n.n(l),d=n(33),j=n(97),b=n.n(j),f=(n(254),n(595)),h=n(594),x=n(596),O=n(337),v=n(338),m=n(159),g=(n(98),"https://api.x.immutable.com/v1"),y="0xacb3c6a43d15b907e8433077b6d38ae40936fe2c",w=new v.Link("https://link.x.immutable.com"),k="WALLET_ADDRESS",S="STARK_PUBLIC_KEY";function C(){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.setup({});case 2:t=e.sent,n=t.address,c=t.starkPublicKey,localStorage.setItem(k,n),localStorage.setItem(S,c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(p.a.mark((function e(){var t,n,c,r,a,s,o,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,m.ImmutableXClient.build({publicApiUrl:g});case 3:c=e.sent,r=localStorage.getItem("WALLET_ADDRESS"),e.prev=5;case 6:return e.next=8,c.getAssets({user:r,status:"imx",collection:y,sell_orders:!0});case 8:a=e.sent,n=n.concat(a.result),t=a.cursor;case 11:if(t){e.next=6;break}case 12:s=Object(O.a)(n);try{for(s.s();!(o=s.n()).done;)(l=o.value).isListed=!1,(null===(i=l.orders)||void 0===i||null===(u=i.sell_orders)||void 0===u?void 0:u.length)>0&&(l.isListed=!0)}catch(p){s.e(p)}finally{s.f()}e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:return e.prev=19,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})))).apply(this,arguments)}function E(e,t){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={amount:n,tokenId:t.id,tokenAddress:t.token_address},e.next=3,w.sell(c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(p.a.mark((function e(t,n,c){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.ImmutableXClient.build({publicApiUrl:g});case 3:return r=e.sent,e.next=6,r.getOrders({page_size:t,cursor:n,status:"active",sell_token_address:y,sell_metadata:c,order_by:"buy_quantity",direction:"asc"});case 6:return a=e.sent,e.abrupt("return",{orders:a.result,cursor:a.cursor});case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function I(e){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.buy({orderId:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R,T,q,B,M=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.godsunchained.com/v0/proto?perPage=2000",e.next=3,b()("https://api.godsunchained.com/v0/proto?perPage=2000");case 3:return t=e.sent,n=t.data.records,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var c,r,a,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={minPrice:Number.MAX_SAFE_INTEGER,orderID:null},"https://api.x.immutable.com/v1/orders",r=JSON.stringify({proto:["".concat(t.id)],quality:["".concat(n)]}),e.prev=3,e.next=6,b.a.get("https://api.x.immutable.com/v1/orders",{params:{sell_metadata:r,status:"active",order_by:"buy_quantity",direction:"asc"}});case 6:a=e.sent,s=a.data.result,console.log(s),s.map((function(e){var t=e.buy.data.quantity,n=e.buy.data.decimals,r=(t*Math.pow(10,-n)).toFixed(6),a=e.order_id;c.minPrice>r&&(c.minPrice=r,c.orderID=a)})),o=s[0].sell.data.properties.image_url,console.log(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:return e.prev=17,e.abrupt("return",{bestOrder:c,image_url:o});case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),z=n(91),H=n(81),J=H.a.div(R||(R=Object(z.a)(["\ntransition: all .2s ease-in-out;\nborder-radius: 10px;\n&:hover{\n    transform:scale(1.1);\n}\n"]))),U=H.a.button(T||(T=Object(z.a)(["\n  background-color: green;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n"]))),G=H.a.button(q||(q=Object(z.a)(["\n  background-color: red;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin-left:10px;\n"]))),K=H.a.button(B||(B=Object(z.a)(["\nbackground-color: grey;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin-left:10px;\n"]))),X=n(13);var Y=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=Object(c.useState)(null),s=Object(u.a)(a,2),o=s[0],i=s[1],l=Object(c.useState)(null),j=Object(u.a)(l,2),b=j[0],O=j[1],v=Object(c.useState)(null),m=Object(u.a)(v,2),g=m[0],y=m[1],w=Object(c.useState)("Meteorite"),k=Object(u.a)(w,2),S=k[0],C=k[1],P=Object(c.useState)(!1),_=Object(u.a)(P,2),N=_[0],E=_[1],L=Object(c.useState)(!1),D=Object(u.a)(L,2),A=D[0],F=D[1];function R(){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,E(!1),e.next=5,W(r,S);case 5:t=e.sent,n=t.bestOrder,c=t.image_url,i(n.minPrice),O(n.orderID),y(c),null===n.orderID&&E(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),E(!0),console.log(e.t0);case 18:return e.prev=18,F(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})))).apply(this,arguments)}function q(){return(q=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(b.toString()),e.next=4,I(b.toString());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){R(r,S)}),[]),Object(c.useEffect)((function(){R(r,S)}),[S]),Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(f.a,{show:t,onHide:function(){n(!t)},children:[Object(X.jsx)(f.a.Header,{closeButton:!0,children:Object(X.jsx)(f.a.Title,{children:r.name})}),Object(X.jsx)(f.a.Body,{children:A?Object(X.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(X.jsx)(h.a,{animation:"grow"})," "]}):N?Object(X.jsx)("h5",{children:"this card is not available for trade"}):Object(X.jsxs)("div",{children:[Object(X.jsxs)("p",{children:["Quality : ",S]}),Object(X.jsxs)("p",{children:["Price : ",o]}),Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("img",{src:g,alt:r.id})}),Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)(U,{onClick:function(){return q.apply(this,arguments)},children:"Buy"})})]})}),Object(X.jsxs)(f.a.Footer,{children:[Object(X.jsx)(x.a,{variant:"secondary",onClick:function(){C("Meteorite")},children:"Meteorite"}),Object(X.jsx)(x.a,{variant:"primary",onClick:function(){C("Shadow"),console.log("Shadow")},children:"Shadow"}),Object(X.jsx)(x.a,{variant:"warning",onClick:function(){C("Gold")},children:"Gold"}),Object(X.jsx)(x.a,{variant:"link",onClick:function(){C("Diamond")},children:"Diamond"})]})]})})};var Q=function(e){var t=e.card,n=e.showPopup,c=e.setPopup,r=(e.popupCard,e.setPopupCard);return Object(X.jsx)("div",{children:Object(X.jsx)("li",{children:Object(X.jsx)(J,{children:Object(X.jsx)("img",{className:"nft-item-cover",src:"https://card.godsunchained.com/?id=".concat(t.id,"&q=4"),alt:"".concat(t.id," cover"),onClick:function(){c(!n),r(t)}})})},t.id)})};n(336);var V=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=e.setPopupCard,s=Object(c.useState)([]),o=Object(u.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)([]),b=Object(u.a)(j,2),f=b[0],x=b[1],O=Object(c.useState)(!1),v=Object(u.a)(O,2),m=v[0],g=v[1];function y(){return(y=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,M();case 3:t=e.sent,console.log(t),x(t),l(t),g(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){console.log(f)}),[f]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("input",{type:"text",placeholder:"Search a card",onChange:function(e){var t=i.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));x(t)}})}),m?Object(X.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(X.jsx)(h.a,{animation:"grow"})," "]}):Object(X.jsx)("ul",{className:"list-unstyled",children:Object(X.jsx)("div",{className:"row",children:f.map((function(e){return Object(X.jsx)(Q,{card:e,showPopup:t,setPopup:n,popupCard:r,setPopupCard:a},e.id)}))})})]})};var Z=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(u.a)(a,2),o=s[0],i=s[1];return console.log(o),Object(X.jsxs)("div",{className:"container",children:[Object(X.jsx)(V,{showPopup:n,setPopup:r,popupCard:o,setPopupCard:i}),n?Object(X.jsx)(Y,{showPopup:n,setPopup:r,popupCard:o}):null]})},$=Object(c.createContext)(),ee=function(e){var t=e.children,n=Object(c.useState)(null!==localStorage.getItem("WALLET_ADDRESS")),r=Object(u.a)(n,2),a=r[0],s=r[1];return Object(X.jsx)($.Provider,{value:{logged:a,setLogged:s},children:t})};var te,ne=function(e){var t=e.card,n=e.showPopup,c=e.setPopup,r=(e.popupCard,e.setPopupCard);return Object(X.jsx)("div",{className:"lol",children:Object(X.jsx)("li",{children:Object(X.jsx)(J,{children:Object(X.jsx)("img",{className:"nft-item-cover",src:t.image_url,alt:"".concat(t.id," cover"),onClick:function(){c(!n),r(t)}})})},t.id)})};var ce=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=e.setPopupCard,s=H.a.div(te||(te=Object(z.a)(["\n    \n  "]))),o=Object(c.useState)([]),i=Object(u.a)(o,2),l=i[0],j=i[1],b=Object(c.useState)([]),f=Object(u.a)(b,2),x=f[0],O=f[1],v=Object(c.useState)(!1),m=Object(u.a)(v,2),g=m[0],y=m[1];function w(){return(w=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,_();case 4:t=e.sent,O(t),j(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){console.log(x)}),[x]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("input",{type:"text",onChange:function(e){var t=l.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));O(t)},placeholder:"Search a card"})}),g?Object(X.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(X.jsx)(h.a,{animation:"grow"})," "]}):Object(X.jsx)("ul",{className:"list-unstyled",children:Object(X.jsx)("div",{className:"row",children:x.map((function(e){return Object(X.jsx)(s,{children:Object(X.jsx)(ne,{card:e,showPopup:t,setPopup:n,popupCard:r,setPopupCard:a},e.id)})}))})})]})};var re=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=Object(c.useState)(null),s=Object(u.a)(a,2),o=s[0],i=s[1],l=Object(c.useState)(!1),j=Object(u.a)(l,2),b=j[0],x=j[1],O=Object(c.useState)([]),v=Object(u.a)(O,2),m=v[0],g=v[1];function y(){return(y=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,t=JSON.stringify({proto:["".concat(r.metadata.proto)],quality:["".concat(r.metadata.quality)]}),e.next=5,D(5,"",t);case 5:n=e.sent,g(n.orders),console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]);var w=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SELL ORDER",o),console.log("asset ID",r.id),console.log("tokenAddress",r.token_address),e.prev=3,e.next=6,E(r,o);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){console.log(e.target.value),I(e.target.value)};return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(f.a,{show:t,onHide:function(){n(!t)},children:[Object(X.jsx)(f.a.Header,{closeButton:!0,children:Object(X.jsx)(f.a.Title,{children:r.metadata.name})}),Object(X.jsx)(f.a.Body,{children:b?Object(X.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(X.jsx)(h.a,{animation:"grow"})," "]}):Object(X.jsxs)("div",{children:[Object(X.jsxs)("p",{children:["Quality : ",r.metadata.quality]}),Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("img",{src:r.image_url,alt:r.id})}),Object(X.jsxs)("p",{children:["For sale:",m.map((function(e){return Object(X.jsxs)("p",{children:[Object(X.jsx)(U,{value:e.order_id,onClick:k,children:"BUY"})," : ",(t=e.buy.data.quantity,(t*Math.pow(10,-18)).toFixed(6))," "]});var t}))]})]})}),Object(X.jsx)(f.a.Footer,{children:Object(X.jsxs)("div",{className:"container d-flex content-center",children:[Object(X.jsx)("input",{type:"text",name:"ethprice",placeHolder:"eth Price",onChange:function(e){i(e.target.value)}}),Object(X.jsx)(G,{onClick:w,children:"Sell yours"})]})})]})})};var ae,se,oe=function(){var e=Object(c.useContext)($),t=e.logged,n=e.setLogged,r=Object(c.useState)(""),a=Object(u.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(!1),l=Object(u.a)(i,2),j=l[0],b=l[1],f=Object(c.useState)(null),h=Object(u.a)(f,2),x=h[0],O=h[1];function v(){return(v=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return e.prev=1,e.next=4,C();case 4:n(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),n(!1);case 11:o(localStorage.getItem("WALLET_ADDRESS"));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]),Object(X.jsxs)("div",{className:"container",children:[Object(X.jsx)(ce,{showPopup:j,setPopup:b,popupCard:x,setPopupCard:O,user:s}),j?Object(X.jsx)(re,{showPopup:j,setPopup:b,popupCard:x}):null]})},ie=(n(578),n.p+"static/media/logo.aac3612d.png");var ue=function(){var e=H.a.nav(ae||(ae=Object(z.a)(["\n  padding: 30px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),t=Object(H.a)(o.b)(se||(se=Object(z.a)(["\n  padding: 10px 15px;\n  color: #8186a0;\n  text-decoration: none;\n  font-size: 18px;\n  text-align: center;\n"]))),n=Object(c.useContext)($),r=n.logged,a=n.setLogged,s=(localStorage.getItem("WALLET_ADDRESS"),Object(i.f)());function u(){return(u=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r?alert("user already connected"):function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:a(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),a(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(X.jsxs)("div",{className:" jumbotron d-flex headerWrapper",children:[Object(X.jsx)("div",{className:"d-flex",children:Object(X.jsx)("img",{src:ie,className:"mainLogo",alt:"mainLogo"})}),Object(X.jsx)("div",{className:"d-flex"}),Object(X.jsxs)(e,{children:[r?Object(X.jsx)(K,{onClick:function(){if(r){localStorage.removeItem("WALLET_ADDRESS"),a(!1);s.push("/browse"),alert("user disconnecterd")}else alert("user not logged in")},children:"Disconnect"}):Object(X.jsx)(K,{onClick:function(){return u.apply(this,arguments)},children:"Connect"}),Object(X.jsx)(t,{className:"link",to:"/browse",children:"Browse Cards"}),Object(X.jsx)(t,{className:"link",to:"/account",children:"Your Cards"})]})]})};n(580);s.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(o.a,{children:Object(X.jsxs)(ee,{children:[Object(X.jsx)(ue,{}),Object(X.jsx)(i.b,{exact:!0,path:"/",children:Object(X.jsx)(i.a,{to:"/browse"})}),Object(X.jsx)(i.b,{path:"/browse",children:Object(X.jsx)(Z,{})}),Object(X.jsx)(i.b,{path:"/account",children:Object(X.jsx)(oe,{})})]})})}),document.getElementById("root"))}},[[584,1,2]]]);
//# sourceMappingURL=main.3b63f45b.chunk.js.map