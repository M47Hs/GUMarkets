(this.webpackJsonpgodsunchained=this.webpackJsonpgodsunchained||[]).push([[0],{283:function(e,t,n){},365:function(e,t,n){},433:function(e,t){},439:function(e,t){},440:function(e,t){},442:function(e,t){},443:function(e,t){},463:function(e,t){},467:function(e,t){},469:function(e,t){},478:function(e,t){},480:function(e,t){},506:function(e,t){},508:function(e,t){},513:function(e,t){},515:function(e,t){},522:function(e,t){},534:function(e,t){},537:function(e,t){},541:function(e,t){},619:function(e,t,n){},629:function(e,t){},637:function(e,t){},709:function(e,t){},775:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(96),o=n.n(a),s=n(131),i=n(48),u=n(44),l=n(4),p=n.n(l),d=n(35),j=n(92),b=n.n(j),f=(n(283),n(786)),h=n(785),x=n(787),O=n(388),v=n(258),m=n(156),g=(n(93),"https://api.x.immutable.com/v1"),y="0xacb3c6a43d15b907e8433077b6d38ae40936fe2c",w=new v.Link("https://link.x.immutable.com"),k="WALLET_ADDRESS",S="STARK_PUBLIC_KEY";function C(){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.setup({});case 2:t=e.sent,n=t.address,c=t.starkPublicKey,localStorage.setItem(k,n),localStorage.setItem(S,c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(p.a.mark((function e(){var t,n,c,r,a,o,s,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,m.ImmutableXClient.build({publicApiUrl:g});case 3:c=e.sent,r=localStorage.getItem("WALLET_ADDRESS"),e.prev=5;case 6:return e.next=8,c.getAssets({user:r,status:"imx",collection:y,sell_orders:!0});case 8:a=e.sent,n=n.concat(a.result),t=a.cursor;case 11:if(t){e.next=6;break}case 12:o=Object(O.a)(n);try{for(o.s();!(s=o.n()).done;)(l=s.value).isListed=!1,(null===(i=l.orders)||void 0===i||null===(u=i.sell_orders)||void 0===u?void 0:u.length)>0&&(l.isListed=!0)}catch(p){o.e(p)}finally{o.f()}e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:return e.prev=19,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})))).apply(this,arguments)}function L(e,t){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={amount:n,tokenId:t.id,tokenAddress:t.token_address},e.next=3,w.sell(c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(p.a.mark((function e(t,n,c){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.ImmutableXClient.build({publicApiUrl:g});case 3:return r=e.sent,e.next=6,r.getOrders({page_size:t,cursor:n,status:"active",sell_token_address:y,sell_metadata:c,order_by:"buy_quantity",direction:"asc"});case 6:return a=e.sent,e.abrupt("return",{orders:a.result,cursor:a.cursor});case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function I(e){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.buy({orderId:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R,T,q,B,M=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.godsunchained.com/v0/proto?perPage=2000",e.next=3,b()("https://api.godsunchained.com/v0/proto?perPage=2000");case 3:return t=e.sent,n=t.data.records,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var c,r,a,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={minPrice:Number.MAX_SAFE_INTEGER,orderID:null},"https://api.x.immutable.com/v1/orders",r=JSON.stringify({proto:["".concat(t.id)],quality:["".concat(n)]}),e.prev=3,e.next=6,b.a.get("https://api.x.immutable.com/v1/orders",{params:{sell_metadata:r,status:"active",order_by:"buy_quantity",direction:"asc"}});case 6:a=e.sent,o=a.data.result,console.log(o),o.map((function(e){var t=e.buy.data.quantity,n=e.buy.data.decimals,r=(t*Math.pow(10,-n)).toFixed(6),a=e.order_id;c.minPrice>r&&(c.minPrice=r,c.orderID=a)})),s=o[0].sell.data.properties.image_url,console.log(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:return e.prev=17,e.abrupt("return",{bestOrder:c,image_url:s});case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),z=n(102),H=n(86),J=H.a.div(R||(R=Object(z.a)(["\ntransition: all .2s ease-in-out;\nborder-radius: 10px;\n&:hover{\n    transform:scale(1.1);\n}\n"]))),U=H.a.button(T||(T=Object(z.a)(["\n  background-color: green;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n"]))),G=H.a.button(q||(q=Object(z.a)(["\n  background-color: red;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin-left:10px;\n"]))),K=H.a.button(B||(B=Object(z.a)(["\nbackground-color: grey;\n  width: 90px;\n  height: 30px;\n  border: none;\n  border-radius: 10px;\n  color: white;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin-left:10px;\n"]))),X=n(13);var Y=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=Object(c.useState)(null),o=Object(u.a)(a,2),s=o[0],i=o[1],l=Object(c.useState)(null),j=Object(u.a)(l,2),b=j[0],O=j[1],v=Object(c.useState)(null),m=Object(u.a)(v,2),g=m[0],y=m[1],w=Object(c.useState)("Meteorite"),k=Object(u.a)(w,2),S=k[0],C=k[1],P=Object(c.useState)(!1),_=Object(u.a)(P,2),E=(_[0],_[1]),L=Object(c.useState)(!1),N=Object(u.a)(L,2),A=N[0],D=N[1];function F(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,W(r,S);case 4:t=e.sent,n=t.bestOrder,c=t.image_url,i(n.minPrice),O(n.orderID),y(c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),E(!0),console.log(e.t0);case 16:return e.prev=16,D(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))).apply(this,arguments)}function T(){return(T=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(b.toString()),e.next=4,I(b.toString());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){F(r,S)}),[]),Object(c.useEffect)((function(){F(r,S)}),[S]),Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(f.a,{show:t,onHide:function(){n(!t)},children:[Object(X.jsx)(f.a.Header,{closeButton:!0,children:Object(X.jsx)(f.a.Title,{children:r.name})}),Object(X.jsx)(f.a.Body,{children:A?Object(X.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(X.jsx)(h.a,{animation:"grow"})," "]}):Object(X.jsxs)("div",{children:[Object(X.jsxs)("p",{children:["Quality : ",S]}),Object(X.jsxs)("p",{children:["Price : ",s]}),Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("img",{src:g,alt:r.id})}),Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)(U,{onClick:function(){return T.apply(this,arguments)},children:"Buy"})})]})}),Object(X.jsxs)(f.a.Footer,{children:[Object(X.jsx)(x.a,{variant:"secondary",onClick:function(){C("Meteorite")},children:"Meteorite"}),Object(X.jsx)(x.a,{variant:"primary",onClick:function(){C("Shadow"),console.log("Shadow")},children:"Shadow"}),Object(X.jsx)(x.a,{variant:"warning",onClick:function(){C("Gold")},children:"Gold"}),Object(X.jsx)(x.a,{variant:"link",onClick:function(){C("Diamond")},children:"Diamond"})]})]})})};var Q=function(e){var t=e.card,n=e.showPopup,c=e.setPopup,r=(e.popupCard,e.setPopupCard);return Object(X.jsx)("div",{children:Object(X.jsx)("li",{children:Object(X.jsx)(J,{children:Object(X.jsx)("img",{className:"nft-item-cover",src:"https://card.godsunchained.com/?id=".concat(t.id,"&q=4"),alt:"".concat(t.id," cover"),onClick:function(){c(!n),r(t)}})})},t.id)})};n(365);var V=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=e.setPopupCard,o=Object(c.useState)([]),s=Object(u.a)(o,2),i=s[0],l=s[1],j=Object(c.useState)([]),b=Object(u.a)(j,2),f=b[0],h=b[1];function x(){return(x=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,console.log(t),h(t),l(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){console.log(f)}),[f]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("input",{type:"text",placeholder:"Search a card",onChange:function(e){var t=i.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));h(t)}})}),Object(X.jsx)("ul",{className:"list-unstyled",children:Object(X.jsx)("div",{className:"row",children:f.map((function(e){return Object(X.jsx)(Q,{card:e,showPopup:t,setPopup:n,popupCard:r,setPopupCard:a},e.id)}))})})]})};var Z,$,ee=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),o=Object(u.a)(a,2),s=o[0],i=o[1];return console.log(s),Object(X.jsxs)("div",{className:"container",children:[Object(X.jsx)(V,{showPopup:n,setPopup:r,popupCard:s,setPopupCard:i}),n?Object(X.jsx)(Y,{showPopup:n,setPopup:r,popupCard:s}):null]})},te=(n(618),n(619),n.p+"static/media/logo.aac3612d.png"),ne=(n(620),Object(c.createContext)()),ce=function(e){var t=e.children,n=Object(c.useState)(null!==localStorage.getItem("WALLET_ADDRESS")),r=Object(u.a)(n,2),a=r[0],o=r[1];return Object(X.jsx)(ne.Provider,{value:{logged:a,setLogged:o},children:t})};var re=function(){var e=H.a.nav(Z||(Z=Object(z.a)(["\n  padding: 30px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),t=(Object(H.a)(s.b)($||($=Object(z.a)(["\n  padding: 10px 15px;\n  color: #8186a0;\n  text-decoration: none;\n  font-size: 18px;\n  text-align: center;\n"]))),Object(c.useContext)(ne)),n=t.logged,r=t.setLogged,a=(localStorage.getItem("WALLET_ADDRESS"),Object(i.e)());function o(){return(o=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?alert("user already connected"):function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:r(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),r(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(X.jsxs)("div",{className:" jumbotron d-flex headerWrapper",children:[Object(X.jsx)("div",{className:"d-flex",children:Object(X.jsx)("img",{src:te,className:"mainLogo",alt:"mainLogo"})}),Object(X.jsx)("div",{className:"d-flex"}),Object(X.jsxs)(e,{children:[n?Object(X.jsx)(K,{onClick:function(){if(n){localStorage.removeItem("WALLET_ADDRESS"),r(!1);a.push("/browse"),alert("user disconnecterd")}else alert("user not logged in")},children:"Disconnect"}):Object(X.jsx)(K,{onClick:function(){return o.apply(this,arguments)},children:"Connect"}),Object(X.jsx)(s.b,{className:"link",to:"/browse",children:"Browse Cards"}),Object(X.jsx)(s.b,{className:"link",to:"/account",children:"Your Cards"})]})]})};var ae,oe=function(e){var t=e.card,n=e.showPopup,c=e.setPopup,r=(e.popupCard,e.setPopupCard);return Object(X.jsx)("div",{className:"lol",children:Object(X.jsx)("li",{children:Object(X.jsx)(J,{children:Object(X.jsx)("img",{className:"nft-item-cover",src:t.image_url,alt:"".concat(t.id," cover"),onClick:function(){c(!n),r(t)}})})},t.id)})};var se=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=e.setPopupCard,o=H.a.div(ae||(ae=Object(z.a)(["\n    \n  "]))),s=Object(c.useState)([]),i=Object(u.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)([]),f=Object(u.a)(b,2),h=f[0],x=f[1];function O(){return(O=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,x(t),j(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){console.log(h)}),[h]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("input",{type:"text",onChange:function(e){var t=l.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));x(t)},placeholder:"Search a card"})}),Object(X.jsx)("ul",{className:"list-unstyled",children:Object(X.jsx)("div",{className:"row",children:h.map((function(e){return Object(X.jsx)(o,{children:Object(X.jsx)(oe,{card:e,showPopup:t,setPopup:n,popupCard:r,setPopupCard:a},e.id)})}))})})]})};var ie=function(e){var t=e.showPopup,n=e.setPopup,r=e.popupCard,a=Object(c.useState)(null),o=Object(u.a)(a,2),s=o[0],i=o[1],l=Object(c.useState)(!1),j=Object(u.a)(l,2),b=j[0],x=j[1],O=Object(c.useState)([]),v=Object(u.a)(O,2),m=v[0],g=v[1];function y(){return(y=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,t=JSON.stringify({proto:["".concat(r.metadata.proto)],quality:["".concat(r.metadata.quality)]}),e.next=5,A(5,"",t);case 5:n=e.sent,g(n.orders),console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]);var w=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SELL ORDER",s),console.log("asset ID",r.id),console.log("tokenAddress",r.token_address),e.prev=3,e.next=6,L(r,s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){console.log(e.target.value),I(e.target.value)};return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(f.a,{show:t,onHide:function(){n(!t)},children:[Object(X.jsx)(f.a.Header,{closeButton:!0,children:Object(X.jsx)(f.a.Title,{children:r.metadata.name})}),Object(X.jsx)(f.a.Body,{children:b?Object(X.jsxs)("div",{className:"container d-flex justify-content-center",children:[Object(X.jsx)(h.a,{animation:"grow"})," "]}):Object(X.jsxs)("div",{children:[Object(X.jsxs)("p",{children:["Quality : ",r.metadata.quality]}),Object(X.jsx)("div",{className:"container d-flex justify-content-center",children:Object(X.jsx)("img",{src:r.image_url,alt:r.id})}),Object(X.jsxs)("p",{children:["For sale:",m.map((function(e){return Object(X.jsxs)("p",{children:[Object(X.jsx)(U,{value:e.order_id,onClick:k,children:"BUY"})," : ",(t=e.buy.data.quantity,(t*Math.pow(10,-18)).toFixed(6))," "]});var t}))]})]})}),Object(X.jsx)(f.a.Footer,{children:Object(X.jsxs)("div",{className:"container d-flex content-center",children:[Object(X.jsx)("input",{type:"text",name:"ethprice",placeHolder:"eth Price",onChange:function(e){i(e.target.value)}}),Object(X.jsx)(G,{onClick:w,children:"Sell yours"})]})})]})})};var ue=function(){var e=Object(c.useContext)(ne),t=e.logged,n=e.setLogged,r=Object(c.useState)(""),a=Object(u.a)(r,2),o=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(u.a)(i,2),j=l[0],b=l[1],f=Object(c.useState)(null),h=Object(u.a)(f,2),x=h[0],O=h[1];function v(){return(v=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return e.prev=1,e.next=4,C();case 4:n(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),n(!1);case 11:s(localStorage.getItem("WALLET_ADDRESS"));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]),Object(X.jsxs)("div",{className:"container",children:[Object(X.jsx)(se,{showPopup:j,setPopup:b,popupCard:x,setPopupCard:O,user:o}),j?Object(X.jsx)(ie,{showPopup:j,setPopup:b,popupCard:x}):null]})};o.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(s.a,{children:Object(X.jsxs)(ce,{children:[Object(X.jsx)(re,{}),Object(X.jsx)(i.a,{exact:!0,path:"/",children:Object(X.jsx)(ee,{})}),Object(X.jsx)(i.a,{exact:!0,path:"/browse",children:Object(X.jsx)(ee,{})}),Object(X.jsx)(i.a,{path:"/account",children:Object(X.jsx)(ue,{})})]})})}),document.getElementById("root"))}},[[775,1,2]]]);
//# sourceMappingURL=main.17d8b5df.chunk.js.map